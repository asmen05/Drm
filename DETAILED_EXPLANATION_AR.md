# ุดุฑุญ ุชูุตููู ูุฑุงุจุท WebSocket

## ๐ ุงูุฑุงุจุท ุงูููุญูู
```
wss://103.237.103.54:60000/live?oid=2lanhaif80b44fbzbuxhpg495m7znkv4
```

---

## ๐ ุชุญููู ููููุงุช ุงูุฑุงุจุท

### 1. ุงูุจุฑูุชูููู (Protocol): `wss://`
- **wss** ุชุนูู **WebSocket Secure**
- ูุฐุง ุจุฑูุชูููู ุงุชุตุงู ุซูุงุฆู ุงูุงุชุฌุงู ูุดูุฑ (ูุซู HTTPS ููููุจ ุณููุช)
- ูููุฑ ุงุชุตุงู ุขูู ููุดูุฑ ุจูู ุงูุนููู ูุงูุฎุงุฏู
- ูุณุชุฎุฏู TLS/SSL ููุชุดููุฑ
- ููุงุณุจ ููุจุซ ุงููุจุงุดุฑ ูุงูุงุชุตุงูุงุช ุงูููุฑูุฉ

### 2. ุนููุงู ุงูุฎุงุฏู (Server IP): `103.237.103.54`
- ุนููุงู IP ููุฎุงุฏู ุงูุฐู ูุณุชุถูู ุฎุฏูุฉ ุงูุจุซ
- ููุน ูู ูุทุงู ุนูุงููู IP ุงูุนุงูุฉ
- ูููู ุชุชุจุน ูููุนู ุงูุฌุบุฑุงูู (ุบุงูุจุงู ูู ุขุณูุง)

### 3. ุงููููุฐ (Port): `60000`
- ูููุฐ ุบูุฑ ููุงุณู (ุงูููุงูุฐ ุงูููุงุณูุฉ: 80 ููู HTTPุ 443 ููู HTTPS)
- ุงุณุชุฎุฏุงู ูููุฐ ูุฎุตุต ูุดูุฑ ุฅูู ุฎุฏูุฉ ูุชุฎุตุตุฉ
- ููุณุชุฎุฏู ุนุงุฏุฉ ูุฎุฏูุงุช ุงูุจุซ ุงููุจุงุดุฑ ุฃู IPTV

### 4. ุงููุณุงุฑ (Path): `/live`
- ูุดูุฑ ุฅูู endpoint ุงูุจุซ ุงููุจุงุดุฑ
- ูุฏู ุนูู ุฃู ูุฐุง ุฑุงุจุท ููุญุชูู ูุจุงุดุฑ (Live Content)
- ููุณ ูุญุชูู ูุณุฌู ุฃู VOD (Video on Demand)

### 5. ูุนุงูู ุงูุงุณุชุนูุงู (Query Parameter): `?oid=2lanhaif80b44fbzbuxhpg495m7znkv4`
- **oid** ูุนูู **Object ID** (ูุนุฑู ุงููุงุฆู)
- ุงููููุฉ: `2lanhaif80b44fbzbuxhpg495m7znkv4`
- ูุฐุง ูุนุฑู ูุฑูุฏ ููููุงุฉ ุฃู ุงูุจุซ ุงููุญุฏุฏ
- ููุณุชุฎุฏู ููุชุนุฑู ุนูู ุงููุญุชูู ุงููุทููุจ ูู ุจูู ุนุฏุฉ ูููุงุช

---

## ๐ฏ ุงูุบุฑุถ ูู ุงูุฑุงุจุท

### ููุน ุงูุฎุฏูุฉ
ูุฐุง ุฑุงุจุท **WebSocket ููุจุซ ุงููุจุงุดุฑ** ููุณุชุฎุฏู ูู:

1. **ุจุซ IPTV (Internet Protocol Television)**
   - ุจุซ ุงููููุงุช ุงูุชููุฒููููุฉ ุนุจุฑ ุงูุฅูุชุฑูุช
   - ูุญุชูู ูุจุงุดุฑ ูู ุงูููุช ุงููุนูู

2. **Live Streaming**
   - ุจุซ ููุฏูู ูุจุงุดุฑ
   - ูุฏ ูููู ุฑูุงุถุฉุ ุฃุฎุจุงุฑุ ุฃู ูุญุชูู ุชุฑูููู

3. **Real-time Communication**
   - ุงุชุตุงู ุซูุงุฆู ุงูุงุชุฌุงู ุจูู ุงูุนููู ูุงูุฎุงุฏู
   - ูุณูุญ ุจุฅุฑุณุงู ูุงุณุชูุจุงู ุงูุจูุงูุงุช ููุฑุงู

---

## ๐ ูุชุงุฆุฌ ุงูุชุญููู ุงูููู

### ุญุงูุฉ ุงูุงุชุตุงู
โ **ุชู ุงูุงุชุตุงู ุจูุฌุงุญ** - ุงูุฎุงุฏู ูุนูู ูููุจู ุงูุงุชุตุงูุงุช

### ุงูุจูุงูุงุช ุงููุณุชูุจูุฉ
โ๏ธ **ูู ูุชู ุงุณุชูุจุงู ุจูุงูุงุช** ุฎูุงู ูุชุฑุฉ ุงูุงุฎุชุจุงุฑ (34.74 ุซุงููุฉ)

### ุงูุฃุณุจุงุจ ุงููุญุชููุฉ ูุนุฏู ุงุณุชูุจุงู ุงูุจูุงูุงุช:

1. **ุงูุจุซ ุบูุฑ ูุดุท ุญุงููุงู**
   - ุงูููุงุฉ ุฃู ุงูุจุซ ูุชููู ูุคูุชุงู
   - ูุง ููุฌุฏ ูุญุชูู ููุจุซ ูู ูุฐุง ุงูููุช

2. **ูุชุทูุจ ูุตุงุฏูุฉ ุฅุถุงููุฉ**
   - ูุฏ ูุญุชุงุฌ ุฅูู ุฅุฑุณุงู ุฑุณุงูุฉ ุชูุนูู (handshake)
   - ูุฏ ูุชุทูุจ token ุฃู ููุชุงุญ API
   - ูุฏ ูุญุชุงุฌ ุฅูู headers ูุนููุฉ

3. **ุงูุฑุงุจุท ููุชูู ุงูุตูุงุญูุฉ**
   - ูุนุฑู ุงููุงุฆู (OID) ูุฏ ูููู ูุคูุช
   - ูุฏ ูุชุบูุฑ ุจุดูู ุฏูุฑู ูุฃุณุจุงุจ ุฃูููุฉ

4. **ูุชุทูุจ ุชูุงุนู ูู ุงูุนููู**
   - ูุฏ ูุญุชุงุฌ ุฅุฑุณุงู ุทูุจ ุจุฏุก ุงูุจุซ
   - ูุฏ ูุญุชุงุฌ ุฅูู ุฅุฑุณุงู ุฑุณุงูุฉ JSON ููุชุญูู

---

## ๐ป ููููุฉ ุงุณุชุฎุฏุงู ุงูุฑุงุจุท

### ุงูุทุฑููุฉ 1: ุจุงุณุชุฎุฏุงู ุงูููุฏ ุงูููุฌูุฏ

```javascript
const WebSocketReader = require('./websocket-reader');

const wsUrl = 'wss://103.237.103.54:60000/live?oid=2lanhaif80b44fbzbuxhpg495m7znkv4';

const reader = new WebSocketReader(wsUrl, {
    onConnect: () => {
        console.log('ูุชุตู!');
        
        // ูุญุงููุฉ ุฅุฑุณุงู ุทูุจ ุจุฏุก ุงูุจุซ
        reader.send(JSON.stringify({
            action: 'start',
            type: 'live'
        }));
    },
    
    onData: (data) => {
        if (Buffer.isBuffer(data)) {
            console.log(`ุงุณุชูุจุงู ุจูุงูุงุช ููุฏูู: ${data.length} ุจุงูุช`);
            // ุญูุธ ุฅูู ููู ุฃู ูุนุงูุฌุฉ ุงูุจุซ
        }
    }
});

reader.connect();
```

### ุงูุทุฑููุฉ 2: ุญูุธ ุงูุจุซ ุฅูู ููู

```javascript
const fs = require('fs');
const stream = fs.createWriteStream('live-stream.ts');

const reader = new WebSocketReader(wsUrl, {
    onData: (data) => {
        if (Buffer.isBuffer(data)) {
            stream.write(data);
        }
    }
});

reader.connect();
```

### ุงูุทุฑููุฉ 3: ุจุงุณุชุฎุฏุงู ูุดุบู ููุฏูู

ูููู ุงุณุชุฎุฏุงู ููุชุจุงุช ูุซู:
- **ffmpeg** - ูุชุญููู ูุญูุธ ุงูุจุซ
- **video.js** - ูุชุดุบูู ุงูุจุซ ูู ุงููุชุตูุญ
- **VLC** - ูุชุดุบูู ุงูุจุซ ูุจุงุดุฑุฉ

---

## ๐๏ธ ุงูุฃุฏูุงุช ุงููุทููุจุฉ

### ููุชุทููุฑ
```bash
npm install ws          # ููุชุจุฉ WebSocket
npm install ffmpeg      # ููุนุงูุฌุฉ ุงูููุฏูู (ุงุฎุชูุงุฑู)
```

### ููุงุฎุชุจุงุฑ
```bash
# ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
node analyze-websocket.js

# ุชุดุบูู ุงููุซุงู
node example.js
```

---

## ๐ ุงุนุชุจุงุฑุงุช ุงูุฃูุงู

### 1. ุงูุดูุงุฏุฉ ุงูุฃูููุฉ
- ุงูุฑุงุจุท ูุณุชุฎุฏู `wss://` (ูุดูุฑ)
- ูุฏ ูุณุชุฎุฏู ุดูุงุฏุฉ ุฐุงุชูุฉ ุงูุชูููุน
- ุงูููุฏ ูุชุฌุงูู ุฃุฎุทุงุก ุงูุดูุงุฏุฉ (`rejectUnauthorized: false`)

### 2. ุงูุฎุตูุตูุฉ
- ุนููุงู IP ููุดูู
- ูุนุฑู ุงููุงุฆู (OID) ูุฏ ูููู ุญุณุงุณ
- ูููุตุญ ุจุนุฏู ูุดุงุฑูุฉ ุงูุฑุงุจุท ุนููุงู

### 3. ุงูุดุฑุนูุฉ
- ุชุฃูุฏ ูู ุฃู ูุฏูู ุงูุญู ูู ุงููุตูู ุฅูู ูุฐุง ุงูุจุซ
- ูุฏ ูููู ูุญูู ุจุญููู ุงูููููุฉ ุงูููุฑูุฉ
- ุงุณุชุฎุฏูู ููุท ููุฃุบุฑุงุถ ุงููุตุฑุญ ุจูุง

---

## ๐ ุงูุงุณุชุฎุฏุงูุงุช ุงูููููุฉ

### 1. ูุดุงูุฏุฉ ุงูุจุซ ุงููุจุงุดุฑ
- ุชุดุบูู ุงูููุงุฉ ูู ุงูููุช ุงููุนูู
- ูุดุงูุฏุฉ ุงููุญุชูู ุงููุจุงุดุฑ

### 2. ุชุณุฌูู ุงูุจุซ
- ุญูุธ ุงูุจุซ ุฅูู ููู ููุฏูู
- ุฃุฑุดูุฉ ุงููุญุชูู

### 3. ุฅุนุงุฏุฉ ุงูุจุซ (Re-streaming)
- ุฅุนุงุฏุฉ ุจุซ ุงููุญุชูู ุฅูู ููุตุงุช ุฃุฎุฑู
- ุชูุฒูุน ุงูุจุซ ุนูู ุนุฏุฉ ูุดุงูุฏูู

### 4. ุงูุชุญููู ูุงููุฑุงูุจุฉ
- ูุฑุงูุจุฉ ุฌูุฏุฉ ุงูุจุซ
- ุชุญููู ูุนุฏู ุงูุจูุงูุงุช
- ูุดู ุงูุฃุฎุทุงุก ูุงููุดุงูู

### 5. ุงูุชุทููุฑ ูุงูุงุฎุชุจุงุฑ
- ุจูุงุก ุชุทุจููุงุช IPTV
- ุงุฎุชุจุงุฑ ูุดุบูุงุช ุงูููุฏูู
- ุชุทููุฑ ุฃูุธูุฉ ุงูุจุซ

---

## ๐ ุฎุทูุงุช ุงูุชุดุบูู ุงููุงููุฉ

### 1. ุงูุชุซุจูุช
```bash
cd /vercel/sandbox
npm install
```

### 2. ุงูุงุฎุชุจุงุฑ ุงูุฃุณุงุณู
```bash
node example.js
```

### 3. ุงูุชุญููู ุงูุชูุตููู
```bash
node analyze-websocket.js
```

### 4. ุญูุธ ุงูุจุซ
```bash
node save-stream.js
```

---

## ๐ ุงููุนูููุงุช ุงูุชูููุฉ

### ุงูุจุฑูุชูููู
- **WebSocket** (RFC 6455)
- ุงุชุตุงู ุซูุงุฆู ุงูุงุชุฌุงู
- ูุนูู ููู TCP
- ูุฏุนู ุงูุจูุงูุงุช ุงููุตูุฉ ูุงูุซูุงุฆูุฉ

### ุงูุชุดููุฑ
- **TLS 1.2/1.3**
- ุชุดููุฑ end-to-end
- ุญูุงูุฉ ูู ุงูุชูุตุช

### ููุน ุงูุจูุงูุงุช ุงููุชููุน
- **MPEG-TS** (MPEG Transport Stream)
- **HLS** (HTTP Live Streaming)
- **WebM** ุฃู **MP4** fragments
- **AAC** ุฃู **MP3** ููุตูุช

---

## โ๏ธ ุงููุดุงูู ุงูุดุงุฆุนุฉ ูุงูุญููู

### 1. ูุดู ุงูุงุชุตุงู
```
Error: connect ECONNREFUSED
```
**ุงูุญู:**
- ุชุญูู ูู ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช
- ุชุฃูุฏ ูู ุฃู ุงูุฎุงุฏู ูุนูู
- ุฌุฑุจ VPN ุฅุฐุง ูุงู ูุญุธูุฑ

### 2. ุนุฏู ุงุณุชูุจุงู ุจูุงูุงุช
```
Connected but no data received
```
**ุงูุญู:**
- ุฃุฑุณู ุฑุณุงูุฉ ุชูุนูู:
```javascript
reader.send(JSON.stringify({ action: 'play' }));
```
- ุงูุชุธุฑ ููุช ุฃุทูู
- ุชุญูู ูู ุตูุงุญูุฉ ุงูุฑุงุจุท

### 3. ุฎุทุฃ ูู ุงูุดูุงุฏุฉ
```
Error: self signed certificate
```
**ุงูุญู:**
- ุงุณุชุฎุฏู `rejectUnauthorized: false` (ููุฌูุฏ ูู ุงูููุฏ)

### 4. ุงููุทุงุน ุงูุงุชุตุงู ุงููุชูุฑุฑ
```
Connection closed unexpectedly
```
**ุงูุญู:**
- ูุนูู ุฅุนุงุฏุฉ ุงูุงุชุตุงู ุงูุชููุงุฆู
- ุฒุฏ ูู `maxReconnectAttempts`
- ุชุญูู ูู ุงุณุชูุฑุงุฑ ุงูุดุจูุฉ

---

## ๐ ููุงุญุธุงุช ุฅุถุงููุฉ

### ุงูุฃุฏุงุก
- ูุนุฏู ุงูุจูุงูุงุช ูุนุชูุฏ ุนูู ุฌูุฏุฉ ุงูุจุซ
- ุนุงุฏุฉ ุจูู 500 Kbps ุฅูู 5 Mbps
- ูุญุชุงุฌ ุงุชุตุงู ุฅูุชุฑูุช ูุณุชูุฑ

### ุงูุชูุงูู
- ูุนูู ุนูู Node.js 12+
- ูุชูุงูู ูุน ุฌููุน ุฃูุธูุฉ ุงูุชุดุบูู
- ูุฏุนู Windows, Linux, macOS

### ุงูุชุทููุฑ ุงููุณุชูุจูู
- ุฅุถุงูุฉ ุฏุนู ูููุตุงุฏูุฉ
- ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- ุฅุถุงูุฉ ูุงุฌูุฉ ูุณุชุฎุฏู
- ุฏุนู ุชุดุบูู ูุชุนุฏุฏ ุงููููุงุช

---

## ๐ ุฑูุงุจุท ูููุฏุฉ

### ุงูุชูุซูู
- [WebSocket Protocol (RFC 6455)](https://tools.ietf.org/html/rfc6455)
- [ws Library Documentation](https://github.com/websockets/ws)
- [MPEG-TS Format](https://en.wikipedia.org/wiki/MPEG_transport_stream)

### ุฃุฏูุงุช
- [WebSocket Test Client](https://www.websocket.org/echo.html)
- [FFmpeg Documentation](https://ffmpeg.org/documentation.html)
- [VLC Media Player](https://www.videolan.org/)

---

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู ููู `websocket-analysis.txt`
2. ุฑุงุฌุน ุงูุฃุฎุทุงุก ูู console
3. ุฌุฑุจ ุงูุฃูุซูุฉ ุงููุฑููุฉ
4. ุชุฃูุฏ ูู ุตูุงุญูุฉ ุงูุฑุงุจุท

---

## โ ุงูุฎูุงุตุฉ

**ุงูุฑุงุจุท ุงูููุญูู** ูู ุฑุงุจุท WebSocket ุขูู (wss://) ูุฎุฏูุฉ ุจุซ ูุจุงุดุฑ (IPTV/Live Streaming):

- โ **ุงูุฎุงุฏู ูุนูู** - ุงูุงุชุตุงู ูุงุฌุญ
- โ๏ธ **ุงูุจุซ ุบูุฑ ูุดุท ุญุงููุงู** - ูู ูุชู ุงุณุชูุจุงู ุจูุงูุงุช
- ๐ **ุงุชุตุงู ูุดูุฑ** - ูุณุชุฎุฏู TLS/SSL
- ๐ฏ **ุงูุบุฑุถ**: ุจุซ ูุญุชูู ูุจุงุดุฑ ุนุจุฑ ุงูุฅูุชุฑูุช
- ๐ **ูุชุทูุจ**: ูุนุฑู ูุฑูุฏ (OID) ูููุตูู

**ููุงุณุชุฎุฏุงู ุงููุนูู:**
1. ุชุฃูุฏ ูู ุฃู ุงูุจุซ ูุดุท
2. ูุฏ ุชุญุชุงุฌ ุฅุฑุณุงู ุฑุณุงูุฉ ุชูุนูู
3. ุงุณุชุฎุฏู ุงูุฃุฏูุงุช ุงููุฑููุฉ ููุงุชุตุงู ูุงูุชุณุฌูู
4. ุงุญุชุฑู ุญููู ุงูููููุฉ ุงูููุฑูุฉ

---

*ุชู ุฅูุดุงุก ูุฐุง ุงูุชูุฑูุฑ ุจูุงุณุทุฉ ุฃุฏุงุฉ ุชุญููู WebSocket*
*ุงูุชุงุฑูุฎ: 4 ููููุจุฑ 2025*
